{"version":3,"sources":["../src/secondarynav.js"],"names":["sel","ids","secondarynav","actions","togglebutton","closebutton","closeNav","secondaryNav","document","querySelector","showNav","togglenavigation","toggleButton","closeButton","addEventListener","window","outerWidth"],"mappings":"qKAwBMA,CAAAA,CAAG,CAAG,CACRC,GAAG,CAAE,CACDC,YAAY,CAAE,wBADb,CADG,CAIRC,OAAO,CAAE,CACLC,YAAY,CAAE,uCADT,CAELC,WAAW,CAAE,wCAFR,CAJD,C,CAUNC,CAAQ,CAAG,UAAM,CACnB,GAAMC,CAAAA,CAAY,CAAGC,QAAQ,CAACC,aAAT,CAAuBT,CAAG,CAACC,GAAJ,CAAQC,YAA/B,CAArB,CAEA,gBAAU,QAAV,CAAoBK,CAApB,CAAkC,MAAlC,CACH,C,CAEKG,CAAO,CAAG,UAAM,CAClB,GAAMH,CAAAA,CAAY,CAAGC,QAAQ,CAACC,aAAT,CAAuBT,CAAG,CAACC,GAAJ,CAAQC,YAA/B,CAArB,CAEA,gBAAU,KAAV,CAAiBK,CAAjB,CAA+B,MAA/B,CACH,C,oBAE+B,QAAnBI,CAAAA,gBAAmB,EAAM,IAC5BC,CAAAA,CAAY,CAAGJ,QAAQ,CAACC,aAAT,CAAuBT,CAAG,CAACG,OAAJ,CAAYC,YAAnC,CADa,CAE5BS,CAAW,CAAGL,QAAQ,CAACC,aAAT,CAAuBT,CAAG,CAACG,OAAJ,CAAYE,WAAnC,CAFc,CAG5BE,CAAY,CAAGC,QAAQ,CAACC,aAAT,CAAuBT,CAAG,CAACC,GAAJ,CAAQC,YAA/B,CAHa,CAKlC,GAAIU,CAAJ,CAAkB,CACdA,CAAY,CAACE,gBAAb,CAA8B,OAA9B,CAAuC,UAAM,CACzC,GAAI,gBAAU,KAAV,CAAiBP,CAAjB,CAA+B,MAA/B,CAAJ,CAA4C,CACxCD,CAAQ,EACX,CAFD,IAEO,CACHI,CAAO,EACV,CACJ,CAND,CAOH,CACD,GAAIG,CAAJ,CAAiB,CACbA,CAAW,CAACC,gBAAZ,CAA6B,OAA7B,CAAsC,UAAM,CACxCR,CAAQ,EACX,CAFD,CAGH,CAEDS,MAAM,CAACD,gBAAP,CAAwB,QAAxB,CAAkC,UAAY,CAC1C,GAAwB,GAApB,CAAAC,MAAM,CAACC,UAAX,CAA6B,CACzBV,CAAQ,EACX,CACJ,CAJD,CAKH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Toggling the visibility of the secondary navigation on mobile.\n *\n * @package    theme_boost\n * @copyright  2021 Bas Brands\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport {classUtil} from 'core/utils';\n\nconst sel = {\n    ids: {\n        secondarynav: '.secondarynavcontainer',\n    },\n    actions: {\n        togglebutton: '[data-action=\"view-secondary-menu\"]',\n        closebutton: '[data-action=\"close-secondary-menu\"]'\n    }\n};\n\nconst closeNav = () => {\n    const secondaryNav = document.querySelector(sel.ids.secondarynav);\n\n    classUtil('remove', secondaryNav, 'show');\n};\n\nconst showNav = () => {\n    const secondaryNav = document.querySelector(sel.ids.secondarynav);\n\n    classUtil('add', secondaryNav, 'show');\n};\n\nexport const togglenavigation = () => {\n    const toggleButton = document.querySelector(sel.actions.togglebutton);\n    const closeButton = document.querySelector(sel.actions.closebutton);\n    const secondaryNav = document.querySelector(sel.ids.secondarynav);\n\n    if (toggleButton) {\n        toggleButton.addEventListener('click', () => {\n            if (classUtil('has', secondaryNav, 'show')) {\n                closeNav();\n            } else {\n                showNav();\n            }\n        });\n    }\n    if (closeButton) {\n        closeButton.addEventListener('click', () => {\n            closeNav();\n        });\n    }\n\n    window.addEventListener('resize', function () {\n        if (window.outerWidth > 768) {\n            closeNav();\n        }\n    });\n};\n"],"file":"secondarynav.min.js"}